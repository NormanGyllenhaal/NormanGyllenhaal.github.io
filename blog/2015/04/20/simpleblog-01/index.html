
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Django1.7开发博客（1）- 入门篇 - Hi, I’m Yang Peng</title>
  <meta name="author" content="Yang Peng">

   
  <meta name="description" content="">
  
  <meta name="keywords" content="">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://yeangpeng.tech/blog/2015/04/20/simpleblog-01">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Hi, I’m Yang Peng" type="application/atom+xml">
  <script src="/js/jquery.js"></script>
  <script src="/js/bootstrap-collapse.js"></script>
  <script src="/js/modernizr-2.0.js"></script>
  <script src="/js/octopress.js" type="text/javascript"></script>
  <script src="/js/application.js"></script>
  <a href="https://github.com/NormanGyllenhaal"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42595764-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="navbar navbar-inverse navbar-static-top">
  	<div class="navbar-inner">
  	  <div class="container">
        <a class="btn btn-navbar" data-toggle="collapse" data-target=".navbar-responsive-collapse">
          <span class="fui-menu-24"></span>
        </a>
  	  	<div class="nav-collapse collapse navbar-responsive-collapse" style="height:0;">
  	      <ul class="nav">
    
        <li ><a href="/index.html">Blog</a></li>
    
        <li ><a href="/blog/archives/index.html">Archives</a></li>
    
        <li ><a href="/about/index.html">About</a></li>
    
</ul>

<ul class="nav pull-right">
    
    <li><a href="http://github.com/NormanGyllenhaal" title="Github Profile"><i class="icon-github-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://linkedin.com/in/鹏-杨-b78030109" title="Linkedin Profile"><i class="icon-linkedin-sign social-navbar"></i></a></li>
    
    
    <li><a href="http://twitter.com/yangpeng_tech" title="Twitter Profile"><i class="icon-twitter-sign social-navbar"></i></a></li>
    
    
    
    <li><a href="http://facebook.com/peng.yang.37669" title="Facebook Profile"><i class="icon-facebook-sign social-navbar"></i></a></li>
    
    

    
    <li><a href="mailto:me@yangpeng.tech" title="Email"><i class="icon-envelope social-navbar"></i></a></li>
    
</ul>

  	    </div>
  	  </div>
  	</div>
  </div>
  <div class="container" id="main">
      <div class="row-fluid">
        <div id="content">
          <div>
<article class="hentry" role="article">
  

  <header>
  <div class="jumbotron">
    Django1.7开发博客（1）- 入门篇
	<h5>



















<i class="icon-calendar-empty"></i>  2015-04-20 17:31</h5>
  </div>
</header>
  <div class="row-fluid">
    <div class="span12">
      <h3>开篇</h3>

<p>笔者用过django一段时间了，是时候做点笔记了。不过官网文档稍微有点复杂，对新手而言很困难，
而网上的一些教程很多都过时了。
最近看到一个外文的教程非常不错，
网址是：<a href="http://tutorial.djangogirls.org/">http://tutorial.djangogirls.org/</a>，
这个是基于最新的django1.7写的，通俗易懂，非常适合新手入门。
那么我自己参考这个整理了一下这个教程，同时还将源码上传到GitHub上去了。
希望对于大家有帮助。教程中如果有不足之处希望大家不吝赐教 ^_^</p>

<p>参考教程：<a href="http://tutorial.djangogirls.org/">http://tutorial.djangogirls.org/</a></p>

<p>GitHub项目地址：<a href="https://github.com/yidao620c/simpleblog">https://github.com/yidao620c/simpleblog</a></p>

<p>Heroku演示地址：<a href="https://yidaoblog.herokuapp.com/">https://yidaoblog.herokuapp.com/</a><!--more--></p>

<p>非常期待有人合作一起完成正式版1.0。目前有35个人fork，但暂时还木有收到任何的pull requests。→_→</p>

<h3>Django是神马？</h3>

<p>Django是一个开源免费的Web框架，使用Python编写。能够让你快速写出一个Web应用，
因为它包含了绝大部分的组件，比如认证，表单，ORM，Session，安全，文件上传，页面模板等，避免了重复造轮子。</p>

<p>官方网站：<a href="https://www.djangoproject.com/">https://www.djangoproject.com/</a></p>

<p>笔者写这篇教程的时候，最新版本是1.7.</p>

<h3>安装Django1.7</h3>

<p><strong>安装python虚拟环境：</strong></p>

<p>为了开发应用的时候使用单独的环境，最好是安装virtual environment，
这样有很好的独立性，可以在里面乱搞而不会影响到其他的应用开发。</p>

<p>下面我以cetnos6.5测试环境为例子介绍怎样去安装python的virtual environment，
该测试机的IP地址是192.168.203.95。</p>

<p>1，先安装python3，最新版本是3.4.2</p>

<p>centos6.5上面默认没有安装python3，那么需要先安装python3。
注意不能简单的使用yum去安装。关于这个教程，可以去网上搜索下。</p>

<p>笔者给出一个参考：<a href="http://www.shayanderson.com/linux/install-python-3-on-centos-6-server.htm">install-python3-on-centos6</a></p>

<p>2， 安装virtualenv</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pip3 install virtualenv</span></code></pre></td></tr></table></div></figure>


<p>关于virtualenv的详细说明，请参考文档：<a href="http://docs.python-guide.org/en/latest/dev/virtualenvs/">virtualenv</a></p>

<p>3，创建一个文件夹叫djangogirls</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir djangogirls
</span><span class='line'>cd djangogirls</span></code></pre></td></tr></table></div></figure>


<p>4，创建虚拟环境myenv</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>python3 -m venv myvenv</span></code></pre></td></tr></table></div></figure>


<p>5，激活虚拟环境</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>source myvenv/bin/activate</span></code></pre></td></tr></table></div></figure>


<p>如果看到下面这个提示，说明成功进入了虚拟环境：<code>(myvenv) ~/djangogirls$</code></p>

<p>这时候可以使用python来代替python3了。</p>

<p>6，在虚拟环境中安装django1.7</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(myvenv) ~$ pip install django==1.7
</span><span class='line'>Downloading/unpacking django==1.7
</span><span class='line'>Installing collected packages: django
</span><span class='line'>Successfully installed django
</span><span class='line'>Cleaning up...</span></code></pre></td></tr></table></div></figure>


<p>OK，到此为止，django1.7环境已经搞定了。</p>

<h3>生成项目骨架</h3>

<p>接下来一步是生成项目骨架，Django为我们提供了很多有用的脚本让我们可以很方便的使用简单的命令即可生成基本的目录和文件。</p>

<p>对于生产的文件和目录名称请不要随意去修改，也不要随意去移动文件的位置，
因为这些都是约定好的。Django会根据特定的结构去查找对应的文件。</p>

<p>假设你已经在刚刚的djangogirls目录中了，那么执行下面的命令：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>(myvenv) [mango@centos00 djangogirls]$ django-admin.py startproject mysite</span></code></pre></td></tr></table></div></figure>


<p>会自动在djangogirls目录中生成一个mysite目录，进入mysite目录，会是下面的结构：</p>

<pre><code>myste
├───manage.py
└───mysite
        settings.py
        urls.py
        wsgi.py
        __init__.py
</code></pre>

<p>manage.py是管理网站的脚本，可以使用它来启动一个简单的web服务器，这个对于开发调试非常有用。</p>

<p>setting.py是工程的核心配置文件。</p>

<p>urls.py是路径配置文件，可以配置URL到实际Controller的映射关系。</p>

<h3>修改默认配置</h3>

<p>我们可以试着去修改下setting.py配置文件中的时区配置，改为你所在的地区的时区。
关于时区可以参考：<a href="http://en.wikipedia.org/wiki/List_of_tz_database_time_zones">http://en.wikipedia.org/wiki/List_of_tz_database_time_zones</a>
因为我现在在广州地区，所以把它改成了这样：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>LANGUAGE_CODE = 'zh-cn'
</span><span class='line'>TIME_ZONE = 'Asia/Shanghai'</span></code></pre></td></tr></table></div></figure>


<h3>配置数据库</h3>

<p>目前使用默认的sqlite3即可，最简单，什么依赖都没有。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span class='line'>        <span class="s">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s">&#39;django.db.backends.sqlite3&#39;</span><span class="p">,</span>
</span><span class='line'>        <span class="s">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s">&#39;db.sqlite3&#39;</span><span class="p">),</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>为我们的博客系统生成数据库，我们需要运行下面的命令：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="p">(</span><span class="n">myvenv</span><span class="p">)</span> <span class="p">[</span><span class="n">mango</span><span class="nd">@centos00</span> <span class="n">mysite</span><span class="p">]</span><span class="err">$</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">migrate</span>
</span></code></pre></td></tr></table></div></figure>


<p>出现如下的信息表示成功了：</p>

<pre><code>Operations to perform:
  Apply all migrations: sessions, contenttypes, admin, auth
Running migrations:
  Applying contenttypes.0001_initial... OK
  Applying auth.0001_initial... OK
  Applying admin.0001_initial... OK
  Applying sessions.0001_initial... OK
</code></pre>

<h3>运行服务器</h3>

<p>接下来我们通过manage.py来运行服务器</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="p">(</span><span class="n">myvenv</span><span class="p">)</span> <span class="p">[</span><span class="n">mango</span><span class="nd">@centos</span> <span class="n">mysite</span><span class="p">]</span><span class="err">$</span> <span class="n">python</span> <span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">runserver</span> <span class="mf">192.168</span><span class="o">.</span><span class="mf">203.95</span><span class="p">:</span><span class="mi">8000</span>
</span></code></pre></td></tr></table></div></figure>


<p>然后在浏览器中打开这个地址：<a href="http://192.168.203.95:8000/">http://192.168.203.95:8000/</a></p>

<p>按CTRL+C可以停止服务器</p>

<p>如果你看到下面这个页面，那么恭喜你，成功入门。</p>

<p><img src="http://yidaospace.qiniudn.com/dj001.jpg" alt="" /></p>

    </div>
  </div>



  <footer>
    <hr>
    
    <div class="row-fluid">
      
      <div class="span6">
        <p class="meta">
        
        



  <a href="/blog/categories/django/"><span class="badge">django</span></a>

  <a href="/blog/categories/simpleblog/"><span class="badge">simpleblog</span></a>




        </p>
      </div>
      
      <div class="span6 social-sharing">
        <div class="sharing">
  <div class="addthis_toolbox addthis_default_style ">
  
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  
  
  <a class="addthis_button_tweet"></a>
  
  
  <a class="addthis_counter addthis_pill_style"></a>
  </div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>

      </div>
      
      
    </div>
    
    <div class="row-fluid">
      <div class="span12">
        <p class="meta">
          
            <a class="basic-alignment left" href="/blog/2015/04/19/xmemecached/" title="Previous Post: 使用xmemcached客户端">&laquo; 使用xmemcached客户端</a>
          
          
            <a class="basic-alignment right" href="/blog/2015/04/20/simpleblog-02/" title="Next Post: Django1.7开发博客（2）- 模型">Django1.7开发博客（2）- 模型 &raquo;</a>
          
        </p>
      </div>
    </div>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>



        </div>
      </div>
      <div class="row-fluid">
        <footer class="footer-page" role="contentinfo">
          <p>
  Copyright &copy; 2016 - Yang Peng -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span> - Theme by <a href="http://alexgaribay.com">Alex Garibay</a>
</p>


        </footer>
      </div>
  </div>
  

<script type="text/javascript">
      var disqus_shortname = 'thecodedungeon';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://yeangpeng.tech/blog/2015/04/20/simpleblog-01/';
        var disqus_url = 'http://yeangpeng.tech/blog/2015/04/20/simpleblog-01/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
